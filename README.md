# 🔒 WAF-Validity-Testing

一个基于 Python 的轻量级脚本，用于批量检测域名是否正确配置了 Web 应用防火墙（WAF）。支持多线程加速与实时结果保存。

---

## ⚙️ 脚本原理

该脚本的核心思路为：

1. **读取域名列表**  
   从 `domains.txt` 文件中逐行读取域名，每个域名将被单独测试。

2. **HTTPS 请求测试**  
   对每个域名强制使用 `https://` 进行访问：
   - 若响应状态码为 `200`，说明服务器响应正常；
   - 若状态码异常（如 403、500 等），跳过该域名的后续检测。

3. **WAF 拦截测试**  
   对状态正常的域名追加疑似恶意参数 `/?test=alert(123)`，模拟潜在攻击行为；
   - 若响应中包含 **“自动阻断请求”** 字样，判定为 WAF 成功拦截；
   - 否则认为未拦截。

4. **Excel 实时保存**  
   所有测试结果实时追加写入 `waf_test_results.xlsx`，防止中途退出丢失数据。

5. **多线程加速**  
   使用 `ThreadPoolExecutor` 实现并发检测，大幅提升测试效率。

---

## 📦 安装依赖

请确保使用 Python 3.7+，并安装以下依赖：

```bash
pip install requests openpyxl
